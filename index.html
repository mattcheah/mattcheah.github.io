<body>

  <h3>Service Worker test</h3>

  <button id="button">Click me to receive a push notification in 1 minute</button>
 
  <!-- start webpush tracking code -->
  <script type='text/javascript'> 
  var _at = {}; window._at.track = window._at.track || function () { (window._at.track.q = window._at.track.q || []).push(arguments); }; _at.domain = 'mattcheah.github.io'; _at.owner = '1dab82d703a9'; _at.idSite = '10435'; _at.attributes = {}; _at.webpushid = 'web.41.aimtell.com'; (function () { var u = '//s3.amazonaws.com/cdn.aimtell.com/trackpush/'; var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0]; g.type = 'text/javascript'; g.async = true; g.defer = true; g.src = u + 'trackpush.min.js'; s.parentNode.insertBefore(g, s); })();

  let button = document.getElementById("button");
  let pushEvent = new CustomEvent("myPush", {
    detail: {
      category: "push",
      action: "click",
      label: "click the push button"
    }
  });
  button.addEventListener("click", function(e) {
    button.dispatchEvent(pushEvent);
    console.log("button clicked, event dispatched");
  });
  
  </script>
  <!-- end webpush tracking code -->
</body>